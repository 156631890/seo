<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perplexityç®€å•æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
        }
        .status {
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            overflow-x: auto;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” Perplexityå·¥å…·ç®€å•æµ‹è¯•</h1>
        
        <div id="results"></div>
    </div>

    <script>
        function addResult(type, title, content) {
            const resultsDiv = document.getElementById('results');
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.innerHTML = `<h3>${title}</h3>${content}`;
            resultsDiv.appendChild(div);
        }

        // åˆ›å»ºä¸€ä¸ªæœ€å°çš„æµ‹è¯•æ•°æ®åº“
        const testDatabase = {
            tools: [
                {
                    id: 'perplexity',
                    name: 'Perplexity AI',
                    provider: 'Perplexity',
                    category: 'research',
                    description: 'AIé©±åŠ¨çš„æœç´¢å¼•æ“ï¼Œæä¾›å‡†ç¡®çš„ç­”æ¡ˆå’Œå¼•ç”¨',
                    features: ['AIæœç´¢', 'å®æ—¶ä¿¡æ¯', 'å¼•ç”¨æ¥æº', 'å¯¹è¯å¼æŸ¥è¯¢'],
                    pricing: 'å…è´¹/Pro $20/æœˆ',
                    tags: ['æœç´¢', 'ç ”ç©¶', 'å¼•ç”¨', 'å®æ—¶'],
                    rating: 4.5,
                    users: '10M+',
                    url: 'https://perplexity.ai',
                    pros: ['æœç´¢å‡†ç¡®', 'å¼•ç”¨å¯é ', 'ç•Œé¢ç®€æ´'],
                    cons: ['åŠŸèƒ½ç›¸å¯¹å•ä¸€', 'ä¾èµ–ç½‘ç»œ', 'ä¸­æ–‡æ”¯æŒä¸€èˆ¬'],
                    lastUpdated: '2024-12-10'
                },
                {
                    id: 'chatgpt',
                    name: 'ChatGPT',
                    provider: 'OpenAI',
                    category: 'text-generation',
                    description: 'æœ€å—æ¬¢è¿çš„AIèŠå¤©æœºå™¨äºº',
                    features: ['å¯¹è¯äº¤äº’', 'æ–‡æœ¬ç”Ÿæˆ', 'ä»£ç ç¼–å†™', 'ç¿»è¯‘'],
                    pricing: 'å…è´¹/Plus $20/æœˆ',
                    tags: ['èŠå¤©', 'å†™ä½œ', 'ç¼–ç¨‹', 'ç¿»è¯‘'],
                    rating: 4.8,
                    users: '100M+',
                    url: 'https://chat.openai.com',
                    pros: ['æ˜“äºä½¿ç”¨', 'åŠŸèƒ½å…¨é¢', 'ç¤¾åŒºæ´»è·ƒ'],
                    cons: ['å…è´¹ç‰ˆæœ‰é™åˆ¶', 'å¯èƒ½äº§ç”Ÿé”™è¯¯ä¿¡æ¯'],
                    lastUpdated: '2024-12-01'
                }
            ],
            models: [],
            agents: []
        };

        // æ¨¡æ‹Ÿå¿«é€Ÿè¯¦æƒ…åŠ è½½å™¨
        const mockFastDetailLoader = {
            async getItemDetails(id, type) {
                if (type === 'tool') {
                    const tool = testDatabase.tools.find(t => t.id === id);
                    if (tool) {
                        return tool;
                    } else {
                        throw new Error(`æ‰¾ä¸åˆ°IDä¸º${id}çš„${type}`);
                    }
                }
                throw new Error(`ä¸æ”¯æŒçš„ç±»å‹: ${type}`);
            }
        };

        // æµ‹è¯•å‡½æ•°
        async function runTests() {
            addResult('info', 'ğŸ”„ å¼€å§‹æµ‹è¯•', 'ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®åº“æµ‹è¯•perplexityå·¥å…·');

            // æµ‹è¯•1: æ£€æŸ¥å·¥å…·æ˜¯å¦å­˜åœ¨
            try {
                const perplexityTool = testDatabase.tools.find(t => t.id === 'perplexity');
                if (perplexityTool) {
                    addResult('success', 'âœ… å·¥å…·å­˜åœ¨æ£€æŸ¥', `
                        <p>æ‰¾åˆ°Perplexityå·¥å…·:</p>
                        <p><strong>ID:</strong> ${perplexityTool.id}</p>
                        <p><strong>åç§°:</strong> ${perplexityTool.name}</p>
                        <p><strong>æè¿°:</strong> ${perplexityTool.description}</p>
                    `);
                } else {
                    addResult('error', 'âŒ å·¥å…·ä¸å­˜åœ¨', 'åœ¨æµ‹è¯•æ•°æ®åº“ä¸­æœªæ‰¾åˆ°perplexityå·¥å…·');
                }
            } catch (error) {
                addResult('error', 'âŒ å·¥å…·æ£€æŸ¥å¤±è´¥', `é”™è¯¯: ${error.message}`);
            }

            // æµ‹è¯•2: æ¨¡æ‹Ÿè¯¦æƒ…åŠ è½½å™¨
            try {
                const item = await mockFastDetailLoader.getItemDetails('perplexity', 'tool');
                addResult('success', 'âœ… è¯¦æƒ…åŠ è½½å™¨æµ‹è¯•', `
                    <p>æˆåŠŸåŠ è½½å·¥å…·è¯¦æƒ…:</p>
                    <p><strong>åç§°:</strong> ${item.name}</p>
                    <p><strong>è¯„åˆ†:</strong> ${item.rating}</p>
                    <p><strong>ç”¨æˆ·æ•°:</strong> ${item.users}</p>
                `);
            } catch (error) {
                addResult('error', 'âŒ è¯¦æƒ…åŠ è½½å™¨å¤±è´¥', `é”™è¯¯: ${error.message}`);
            }

            // æµ‹è¯•3: æ¨¡æ‹Ÿå·¥å…·è¯¦æƒ…é¡µé¢æ¸²æŸ“
            try {
                const tool = testDatabase.tools.find(t => t.id === 'perplexity');
                if (tool) {
                    // æµ‹è¯•æ‰€æœ‰å¯èƒ½å¯¼è‡´mapé”™è¯¯çš„æ¸²æŸ“
                    const featuresHtml = (tool.features || []).map(f => `<li>${f}</li>`).join('');
                    const prosHtml = (tool.pros || []).map(p => `<li>${p}</li>`).join('');
                    const consHtml = (tool.cons || []).map(c => `<li>${c}</li>`).join('');
                    const tagsHtml = (tool.tags || []).map(t => `<span>${t}</span>`).join('');

                    addResult('success', 'âœ… æ¸²æŸ“æµ‹è¯•æˆåŠŸ', `
                        <p>æ‰€æœ‰æ¸²æŸ“æµ‹è¯•é€šè¿‡:</p>
                        <p><strong>åŠŸèƒ½æ•°é‡:</strong> ${tool.features.length}</p>
                        <p><strong>ä¼˜åŠ¿æ•°é‡:</strong> ${tool.pros.length}</p>
                        <p><strong>åŠ£åŠ¿æ•°é‡:</strong> ${tool.cons.length}</p>
                        <p><strong>æ ‡ç­¾æ•°é‡:</strong> ${tool.tags.length}</p>
                        <p><strong>åŠŸèƒ½åˆ—è¡¨:</strong> ${featuresHtml}</p>
                    `);
                }
            } catch (error) {
                addResult('error', 'âŒ æ¸²æŸ“æµ‹è¯•å¤±è´¥', `é”™è¯¯: ${error.message}`);
            }

            // æµ‹è¯•4: æµ‹è¯•ä¸å­˜åœ¨çš„å·¥å…·
            try {
                await mockFastDetailLoader.getItemDetails('nonexistent', 'tool');
                addResult('error', 'âŒ é”™è¯¯å¤„ç†æµ‹è¯•å¤±è´¥', 'åº”è¯¥æŠ›å‡ºé”™è¯¯ä½†æ²¡æœ‰');
            } catch (error) {
                addResult('success', 'âœ… é”™è¯¯å¤„ç†æ­£å¸¸', `æ­£ç¡®æŠ›å‡ºé”™è¯¯: ${error.message}`);
            }

            addResult('info', 'ğŸ“‹ æµ‹è¯•æ€»ç»“', `
                <p><strong>ç»“è®º:</strong> å¦‚æœå®é™…æ•°æ®åº“ä¸­æœ‰perplexityå·¥å…·ä¸”ç»“æ„æ­£ç¡®ï¼Œå·¥å…·è¯¦æƒ…é¡µé¢åº”è¯¥èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
                <p><strong>é—®é¢˜å¯èƒ½åœ¨äº:</strong></p>
                <ul>
                    <li>æ•°æ®åº“æ–‡ä»¶è¯­æ³•é”™è¯¯å¯¼è‡´æ— æ³•åŠ è½½</li>
                    <li>å·¥å…·IDä¸åŒ¹é…æˆ–ä¸å­˜åœ¨</li>
                    <li>æ•°æ®åº“ç»“æ„è¢«ç ´å</li>
                </ul>
                <p><strong>å»ºè®®:</strong> ä¿®å¤æ•°æ®åº“æ–‡ä»¶çš„è¯­æ³•é”™è¯¯ï¼Œç¡®ä¿perplexityå·¥å…·åœ¨æ­£ç¡®çš„toolsæ•°ç»„ä¸­ã€‚</p>
            `);
        }

        // é¡µé¢åŠ è½½å®Œæˆåè¿è¡Œæµ‹è¯•
        document.addEventListener('DOMContentLoaded', () => {
            runTests();
        });
    </script>
</body>
</html>