<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试扩展后的AI工具数据库</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .stats { background: #f5f5f5; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .category { margin-bottom: 15px; }
        .tools-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; }
        .tool-card { background: white; border: 1px solid #ddd; padding: 15px; border-radius: 8px; }
        .tool-name { font-weight: bold; color: #333; }
        .tool-provider { color: #666; font-size: 0.9em; }
        .tool-category { background: #e3f2fd; padding: 2px 8px; border-radius: 4px; font-size: 0.8em; }
        .chinese-tool { border-left: 4px solid #ff4444; }
        .international-tool { border-left: 4px solid #4444ff; }
    </style>
</head>
<body>
    <h1>🚀 AI工具数据库扩展测试</h1>
    
    <div class="stats">
        <h2>📊 数据统计</h2>
        <div id="stats-content">加载中...</div>
    </div>
    
    <div>
        <h2>🏷️ 分类列表</h2>
        <div id="categories-content">加载中...</div>
    </div>
    
    <div>
        <h2>🛠️ 工具展示（前20个）</h2>
        <div id="tools-content" class="tools-grid">加载中...</div>
    </div>
    
    <div>
        <h2>🤖 AI模型展示（前10个）</h2>
        <div id="models-content" class="tools-grid">加载中...</div>
    </div>
    
    <div>
        <h2>🎯 AI Agent展示（前10个）</h2>
        <div id="agents-content" class="tools-grid">加载中...</div>
    </div>

    <script src="ai-tools-database.js"></script>
    <script>
        // 测试数据库加载
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // 显示统计信息
                const stats = document.getElementById('stats-content');
                const toolsCount = aiToolsDatabase.tools ? aiToolsDatabase.tools.length : 0;
                const modelsCount = aiToolsDatabase.models ? aiToolsDatabase.models.length : 0;
                const agentsCount = aiToolsDatabase.agents ? aiToolsDatabase.agents.length : 0;
                const categoriesCount = Object.keys(aiToolsDatabase.categories || {}).length;
                
                stats.innerHTML = `
                    <p><strong>工具数量:</strong> ${toolsCount}</p>
                    <p><strong>模型数量:</strong> ${modelsCount}</p>
                    <p><strong>Agent数量:</strong> ${agentsCount}</p>
                    <p><strong>分类数量:</strong> ${categoriesCount}</p>
                    <p><strong>总计:</strong> ${toolsCount + modelsCount + agentsCount} 个AI资源</p>
                `;
                
                // 显示分类
                const categoriesDiv = document.getElementById('categories-content');
                let categoriesHtml = '';
                for (const [key, category] of Object.entries(aiToolsDatabase.categories || {})) {
                    categoriesHtml += `
                        <div class="category">
                            <strong>${category.icon} ${category.name}</strong> - ${category.description}
                        </div>
                    `;
                }
                categoriesDiv.innerHTML = categoriesHtml;
                
                // 显示前20个工具
                const toolsDiv = document.getElementById('tools-content');
                const tools = (aiToolsDatabase.tools || []).slice(0, 20);
                let toolsHtml = '';
                tools.forEach(tool => {
                    const isChinese = ['阿里云', '百度', '字节跳动', '腾讯', '月之暗面', '科大讯飞', '智谱AI', '商汤科技', '百川智能', 'MiniMax', '零一万物', 'DeepSeek', '昆仑万维', '360公司'].includes(tool.provider);
                    toolsHtml += `
                        <div class="tool-card ${isChinese ? 'chinese-tool' : 'international-tool'}">
                            <div class="tool-name">${tool.name}</div>
                            <div class="tool-provider">${tool.provider}</div>
                            <div class="tool-category">${tool.category}</div>
                            <p>${tool.description}</p>
                            <small>评分: ${tool.rating || 'N/A'} | 用户: ${tool.users || 'N/A'}</small>
                        </div>
                    `;
                });
                toolsDiv.innerHTML = toolsHtml;
                
                // 显示前10个模型
                const modelsDiv = document.getElementById('models-content');
                const models = (aiToolsDatabase.models || []).slice(0, 10);
                let modelsHtml = '';
                models.forEach(model => {
                    const isChinese = ['阿里云', '百度', '字节跳动', '腾讯', '月之暗面', '科大讯飞', '智谱AI', '商汤科技', '百川智能', 'MiniMax', '零一万物', 'DeepSeek', '昆仑万维', '浪潮信息', '复旦大学', '上海AI实验室', '智源研究院'].includes(model.provider);
                    modelsHtml += `
                        <div class="tool-card ${isChinese ? 'chinese-tool' : 'international-tool'}">
                            <div class="tool-name">${model.name}</div>
                            <div class="tool-provider">${model.provider}</div>
                            <div class="tool-category">${model.type}</div>
                            <p>${model.description}</p>
                            <small>评分: ${model.rating || 'N/A'} | API: ${model.apiAccess ? '✅' : '❌'}</small>
                        </div>
                    `;
                });
                modelsDiv.innerHTML = modelsHtml;
                
                // 显示前10个Agent
                const agentsDiv = document.getElementById('agents-content');
                const agents = (aiToolsDatabase.agents || []).slice(0, 10);
                let agentsHtml = '';
                agents.forEach(agent => {
                    agentsHtml += `
                        <div class="tool-card international-tool">
                            <div class="tool-name">${agent.name}</div>
                            <div class="tool-provider">${agent.provider}</div>
                            <div class="tool-category">${agent.type}</div>
                            <p>${agent.description}</p>
                            <small>评分: ${agent.rating || 'N/A'} | 用户: ${agent.users || 'N/A'}</small>
                        </div>
                    `;
                });
                agentsDiv.innerHTML = agentsHtml;
                
            } catch (error) {
                console.error('数据库加载失败:', error);
                document.body.innerHTML = `<h1>❌ 数据库加载失败</h1><p>错误: ${error.message}</p>`;
            }
        });
    </script>
</body>
</html>